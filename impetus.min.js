/**
 * Impetus - v0.6.4
 * http://chrisbateman.github.io/impetus/
 * Copyright (c) 2014 Chris Bateman
 * Licensed MIT <https://raw.github.com/chrisbateman/impetus/master/LICENSE>
 */
!function(){var a=function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=0,q=0,r=1,s=.92,t=o=.4,u=!1,v=!1,w=!1,x=!1,y=[],z=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();this.pause=function(){v=!1,w=!0},this.resume=function(){w=!1},this.setMultiplier=function(a){r=a,o=t*r};var A=function(){c.call(b,p,q)},B=function(a){if("touchmove"===a.type||"touchstart"===a.type||"touchend"===a.type){var b=a.targetTouches[0]||a.changedTouches[0];return{x:b.clientX,y:b.clientY,id:b.identifier}}return{x:a.clientX,y:a.clientY,id:null}},C=function(a){var b=B(a);v||w||(v=!0,x=!1,l=b.id,h=j=b.x,i=k=b.y,y=[],G(h,i),document.addEventListener("touchmove",D),document.addEventListener("touchend",E),document.addEventListener("touchcancel",F),document.addEventListener("mousemove",D),document.addEventListener("mouseup",E))},D=function(a){a.preventDefault();var b=B(a);v&&b.id===l&&(j=b.x,k=b.y,G(h,i),I())},E=function(a){var b=B(a);v&&b.id===l&&F()},F=function(){v=!1,G(h,i),L(),document.removeEventListener("touchmove",D),document.removeEventListener("touchend",E),document.removeEventListener("touchcancel",F),document.removeEventListener("mouseup",E),document.removeEventListener("mousemove",D)},G=function(a,b){for(var c=Date.now();y.length>0&&!(c-y[0].time<=100);)y.shift();y.push({x:a,y:b,time:c})},H=function(){p+=(j-h)*r,q+=(k-i)*r,K(),A(),h=j,i=k,u=!1},I=function(){u||z(H),u=!0},J=function(){a.boundX&&(d=a.boundX[0],e=a.boundX[1]),a.boundY&&(f=a.boundY[0],g=a.boundY[1])},K=function(){void 0!==d&&d>p&&(p=d),void 0!==e&&p>e&&(p=e),void 0!==f&&f>q&&(q=f),void 0!==g&&q>g&&(q=g)},L=function(){var a=y[0],b=y[y.length-1],c=b.x-a.x,d=b.y-a.y,e=b.time-a.time,f=e/15/r;m=c/f,n=d/f,(Math.abs(m)>1||Math.abs(n)>1)&&(x=!0,z(M))},M=function(){x&&(m*=s,n*=s,Math.abs(m)>o||Math.abs(n)>o?(p+=m,q+=n,K()&&(x=!1),A(),z(M)):x=!1)};!function(){if(a.source){if(b="string"==typeof a.source?document.querySelector(a.source):a.source,!b)throw new Error("IMPETUS: source not found.")}else b=document;if(!a.update)throw new Error("IMPETUS: update function not defined.");c=a.update,"undefined"!=typeof a.multiplier&&(r=a.multiplier||r,o=t*r),"undefined"!=typeof a.friction&&(s=a.friction||s),a.initialValues&&(a.initialValues[0]&&(p=a.initialValues[0]),a.initialValues[1]&&(q=a.initialValues[1]),A()),J(),b.addEventListener("touchstart",C),b.addEventListener("mousedown",C)}()};"function"==typeof define&&define.amd?define(function(){return a}):this.Impetus=a}();