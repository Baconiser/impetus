/**
 * Impetus - v0.6.4
 * http://chrisbateman.github.io/impetus/
 * Copyright (c) 2014 Chris Bateman
 * Licensed MIT <https://raw.github.com/chrisbateman/impetus/master/LICENSE>
 */
!function(){var a=function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o=0,p=0,q=1,r=.92,s=!1,t=!1,u=!1,v=!1,w=[],x=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();this.pause=function(){t=!1,u=!0},this.resume=function(){u=!1},this.setMultiplier=function(a){q=a};var y=function(){c.call(b,o,p)},z=function(a){if("touchmove"===a.type||"touchstart"===a.type||"touchend"===a.type){var b=a.targetTouches[0]||a.changedTouches[0];return{x:b.clientX,y:b.clientY,id:b.identifier}}return{x:a.clientX,y:a.clientY,id:null}},A=function(a){var b=z(a);t||u||(t=!0,v=!1,l=b.id,h=j=b.x,i=k=b.y,w=[],E(h,i),document.addEventListener("touchmove",B),document.addEventListener("touchend",C),document.addEventListener("touchcancel",D),document.addEventListener("mousemove",B),document.addEventListener("mouseup",C))},B=function(a){a.preventDefault();var b=z(a);t&&b.id===l&&(j=b.x,k=b.y,E(h,i),G())},C=function(a){var b=z(a);t&&b.id===l&&D()},D=function(){t=!1,E(h,i),J(),document.removeEventListener("touchmove",B),document.removeEventListener("touchend",C),document.removeEventListener("touchcancel",D),document.removeEventListener("mouseup",C),document.removeEventListener("mousemove",B)},E=function(a,b){for(var c=Date.now();w.length>0&&!(c-w[0].time<=100);)w.shift();w.push({x:a,y:b,time:c})},F=function(){o+=(j-h)*q,p+=(k-i)*q,I(),y(),h=j,i=k,s=!1},G=function(){s||x(F),s=!0},H=function(){a.boundX&&(d=a.boundX[0],e=a.boundX[1]),a.boundY&&(f=a.boundY[0],g=a.boundY[1])},I=function(){void 0!==d&&d>o&&(o=d),void 0!==e&&o>e&&(o=e),void 0!==f&&f>p&&(p=f),void 0!==g&&p>g&&(p=g)},J=function(){var a=w[0],b=w[w.length-1],c=b.x-a.x,d=b.y-a.y,e=b.time-a.time,f=e/15/q;m=c/f,n=d/f,(Math.abs(m)>1||Math.abs(n)>1)&&(v=!0,x(K))},K=function(){v&&(m*=r,n*=r,Math.abs(m)>.4||Math.abs(n)>.4?(o+=m,p+=n,I()&&(v=!1),y(),x(K)):v=!1)};!function(){if(a.source){if(b="string"==typeof a.source?document.querySelector(a.source):a.source,!b)throw new Error("IMPETUS: source not found.")}else b=document;if(!a.update)throw new Error("IMPETUS: update function not defined.");c=a.update,"undefined"!=typeof a.multiplier&&(q=a.multiplier||q),"undefined"!=typeof a.friction&&(r=a.friction||r),a.initialValues&&(a.initialValues[0]&&(o=a.initialValues[0]),a.initialValues[1]&&(p=a.initialValues[1]),y()),H(),b.addEventListener("touchstart",A),b.addEventListener("mousedown",A)}()};"function"==typeof define&&define.amd?define(function(){return a}):this.Impetus=a}();